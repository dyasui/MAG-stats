[
  {
    "objectID": "USA2024/analysis.html",
    "href": "USA2024/analysis.html",
    "title": "2024 US Men’s Gymnastics Olympic Team Selection",
    "section": "",
    "text": "make events print in olympic order, not alphabetic\ncalculate each team members contribution by picking best team when they are dropped from results dataset"
  },
  {
    "objectID": "USA2024/analysis.html#averages-across-usa-championships-and-olympic-trials",
    "href": "USA2024/analysis.html#averages-across-usa-championships-and-olympic-trials",
    "title": "2024 US Men’s Gymnastics Olympic Team Selection",
    "section": "Averages across usa championships and olympic trials",
    "text": "Averages across usa championships and olympic trials\n\n# average individual gymnasts' scores across four days\nindv.averages_df &lt;- results_df %&gt;% \n  filter(NAME %in% ot1_df$NAME) %&gt;%  # who qualified to olympic trials \n  group_by(NAME) %&gt;% \n  summarise_at(vars(FX:AA), mean, na.rm=TRUE) %&gt;% \n  arrange(desc(AA))\nindv.averages_df\n\n\n\nTable 1: Individuals’ average scores across nationals and trials\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNAME\nFX\nPH\nSR\nVT\nPB\nHB\nAA\n\n\n\n\nBrody Malone\n13.9250\n13.87500\n14.4500\n14.42500\n14.73750\n14.2375\n85.6500\n\n\nFred Richard\n14.5500\n13.30000\n13.9875\n14.25000\n14.68750\n14.4125\n85.1875\n\n\nShane Wiskus\n14.3875\n13.63750\n13.8375\n14.37500\n14.61250\n13.6125\n84.4625\n\n\nPaul Juda\n14.3250\n14.05000\n13.8875\n14.28750\n14.02500\n13.4250\n84.0000\n\n\nYul Moldauer\n14.3000\n13.06250\n13.9375\n13.95000\n15.01250\n13.1125\n83.3750\n\n\nDonnell Whittenburg\n14.1750\n12.88750\n14.4250\n14.41250\n14.30000\n12.9750\n83.1750\n\n\nAsher Hong\n13.9750\n12.31250\n14.5500\n14.53750\n14.76250\n13.0250\n83.1625\n\n\nCameron Bock\n13.7375\n13.97500\n13.7750\n13.75000\n14.22500\n13.6500\n83.1125\n\n\nFuzzy Benas\n13.9875\n13.70000\n13.5375\n13.86250\n14.07500\n13.4625\n82.6250\n\n\nColt Walker\n13.5625\n13.66250\n13.7375\n14.06250\n14.86250\n12.6125\n82.5000\n\n\nJeremy Bischoff\n13.6875\n13.21250\n13.3375\n13.83750\n13.77500\n13.2375\n81.0875\n\n\nKhoi Young\n14.0875\n13.37500\n9.9500\n14.92500\n14.68750\n13.1625\n80.1875\n\n\nJoshua Karnes\n12.9750\n12.93750\n13.2250\n12.20000\n14.46250\n13.1500\n78.7250\n\n\nKiran Mandava\n13.0500\n12.40000\n12.8750\n13.72500\n13.47500\n12.7000\n78.2250\n\n\nKai Uemura\n12.9625\n11.57500\n12.9125\n13.30000\n13.25000\n12.8125\n76.8125\n\n\nTate Costa\n12.6125\n10.98755\n11.9375\n13.52500\n12.80000\n12.5500\n74.4125\n\n\nAlex Diab\nNaN\nNaN\n14.6250\nNaN\nNaN\nNaN\nNaN\n\n\nCurran Phillips\n13.0000\nNaN\nNaN\n13.66667\n15.58333\n13.2000\nNaN\n\n\nPatrick Hoopes\nNaN\n14.67500\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\nStephen Nedoroscik\nNaN\n14.82500\nNaN\nNaN\nNaN\nNaN\nNaN"
  },
  {
    "objectID": "USA2024/analysis.html#predicting-a-teams-performance",
    "href": "USA2024/analysis.html#predicting-a-teams-performance",
    "title": "2024 US Men’s Gymnastics Olympic Team Selection",
    "section": "Predicting a Team’s performance",
    "text": "Predicting a Team’s performance\n\n\n\n\nListing 3: functions for calculating team performance\n\n\n# function to pick top three scores on each event from a team\nteam_top_scores &lt;- function(names, scores = indv.averages_df, perevent = 3) {\n  scores %&gt;% \n    filter(NAME %in% names) %&gt;%\n    select(-AA) %&gt;% \n    pivot_longer(\n      -NAME,\n      names_to = \"Event\",\n      values_to = \"Score\",\n    ) %&gt;% \n    # take top 3 on each event dropping extra tied scores\n    group_by(Event) %&gt;% \n    slice_max(n = perevent, order_by = Score, with_ties = FALSE) %&gt;% \n    mutate(\n      teamscore = sum(Score),\n      # names     = c(unique(NAME))\n      )  %&gt;%\n    group_by(Event) %&gt;% \n    summarise(\n      Score   = first(teamscore),\n      OnEvent = list((NAME))\n      ) %&gt;% ungroup()\n}\n\n# function to take output of select_top_scores and calculate total\nteam_total &lt;- function(top_scores) {\n  top_scores %&gt;% \n    summarise(x=sum(Score)) %&gt;% \n    pull()\n}\n\n\n\n\nThis method assumes that scores earned at the USA Championships and Olympic Trials are accurate predictions of scores earned at the actual Olympics. These will be over-estimates of a potential team’s Olympic performance if the domestic judging is less strict than the Olympic Committee judges panels.\nMy code also implicitly uses a 5-up, 3-count scoring system which is different from the actual 3-up, 3-count rule during Olympic team finals. While the US might choose the lineup in this way, they will also probably have to take into account the health of their athletes (e.g., resting Brody’s leg by not having him vault)."
  },
  {
    "objectID": "USA2024/analysis.html#event-scores-breakdown",
    "href": "USA2024/analysis.html#event-scores-breakdown",
    "title": "2024 US Men’s Gymnastics Olympic Team Selection",
    "section": "Event scores breakdown",
    "text": "Event scores breakdown\n\n\n\n\nListing 4: team_top_scores() of actual team picks\n\n\nteam_names &lt;- c(\"Brody Malone\", \"Fred Richard\", \"Asher Hong\", \"Paul Juda\",\n                \"Stephen Nedoroscik\")\nactual_team &lt;- team_top_scores(team_names)\nactual_team_tot &lt;- actual_team %&gt;% \n  team_total()\nactual_team\n\n\n\n\n\n\nTable 2: Team USA expected event scores\n\n\n\n\n\n\n\nEvent\nScore\nOnEvent\n\n\n\n\nFX\n42.8500\nFred Richard, Paul Juda , Asher Hong\n\n\nHB\n42.0750\nFred Richard, Brody Malone, Paul Juda\n\n\nPB\n44.1875\nAsher Hong , Brody Malone, Fred Richard\n\n\nPH\n42.7500\nStephen Nedoroscik, Paul Juda , Brody Malone\n\n\nSR\n42.9875\nAsher Hong , Brody Malone, Fred Richard\n\n\nVT\n43.2500\nAsher Hong , Brody Malone, Paul Juda\n\n\n\n\n\n\n\n\n\n\nInterpreting the team’s average scores\nThe expected team score for this team 1 is 258.1. For some context, the gold medal Japanese team at 2023 world championships 2 scored 255.594 and USA won bronze at the same competition with 252.428.\nOn paper this teams strengths relative to international competition seem to be Floor, Pommel, and High Bar with scores of 42.85, 42.75, and 42.075, respectively. However, the US is pretty infamous for not being able to pull together their full potential on Pommel.\nThis team also remains competitive on Rings with an average score of 42.9875 and on P-Bars with a 44.1875. With China being so dominant on those two events they probably won’t win any event final medals there but having those two events as strengths will definitely help the team score against Japan and Great Britain.\nIt’s kind of surprising that the main weakness on paper of this team is vault. With Brody, Paul, and Asher vaulting at a total predicted score of 43.25, they fall behind both China’s and Great Britain’s scores as well as the previous US team’s own score on the event from last year. I heard that judging on Asher’s Ri Se Gwang vault seemed overly harsh, so it’s possible that this team vault score gets better, but I think he’s the only one with a D-score higher than 5.6 on this event.\n\n\nPotential vs Expectations\nThere will also be more psychological strain on these athletes which comes with the media attention and unfamiliar setting in Paris. This could be a factor that could potentially affect this team more than other alternative US teams.\nI was hoping that Yul Muldauer could provide the same kind of leadership he showed at the World Championships to a younger and less-internationally experienced team. Unfortunately he didn’t perform up to his usual level of execution and consistency in these past few competitions so I understand why he was left off. These five guys (with maybe the exception of Paul?) have experience competing at the World/Olympic level, but I think Yul is one of those guys who gets along with everyone and feels comfortable in the spotlight. I think Fred has a very similar enthusiasm and drive, but this is still only his second year of competing at the senior international level.\nThe first night of the Olympic Trials made me pretty nervous about the ability for US gymnasts to stay consistent with increased attention on them. It was great to see how full the stadium in Minneapolis was for men’s gymnastics, but I also thought that some of the extra shakiness on Pommel and throughout the night might have been attributable to all the extra energy around. This team has a lot of potential and I just hope that they don’t get overwhelmed by the pressure of thinking that they need to live up to the high expectations of a domestic audience who only tune in every four years with the anticipation that anything team USA touches at the Olympics could turn to gold.\n\n\nComparing to the rest of the field\n\nteam_scores &lt;- indv.averages_df %&gt;% \n    filter(NAME %in% team_names) %&gt;%\n    select(-AA) %&gt;% \n    pivot_longer(\n      -NAME,\n      names_to = \"Event\",\n      values_to = \"Score\",\n    )\neventsdist +\n  geom_vline(\n    data = team_scores, \n    aes(\n      xintercept = Score, \n      color = Score,\n      ),\n      linetype = \"dashed\"\n    ) +\n  geom_text(\n    data = team_scores, \n    aes(\n      y = 0.4,\n      x = Score,\n      label = NAME,\n      color = Score\n      ),\n    angle = 270,\n    size = 2,\n    nudge_x = 0.05,\n    ) +\n  scale_color_viridis_c(option = \"turbo\", direction = -1) +\n  xlim(12, 15)\n\n\n\n\n\n\n\nFigure 2: Olympic team’s scores relative to everyone else"
  },
  {
    "objectID": "USA2024/analysis.html#footnotes",
    "href": "USA2024/analysis.html#footnotes",
    "title": "2024 US Men’s Gymnastics Olympic Team Selection",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nwith domestic judging↩︎\naccording to the wikipedia page↩︎"
  },
  {
    "objectID": "ParisOlympics2024/pommelhorse.html",
    "href": "ParisOlympics2024/pommelhorse.html",
    "title": "Olympics Pommel Medal Predictions",
    "section": "",
    "text": "indv.averages_df %&gt;% \n  head(n = 8)\n\n\n\n\n\nNAME\nTEAM\nPH\nPH_D\n\n\n\n\nNariman Kurbanov\nKAZ\n15.27593\n6.9\n\n\nStephen Nedoroscik\nUSA\n15.04757\n6.5\n\n\nAhmad Abu Al Soud\nJOR\n14.91650\n6.6\n\n\nZou Jingyuan\nCHN\n14.90000\n5.9\n\n\nSugino Takaaki\nJPN\n14.74660\n6.7\n\n\nRhys McClenaghan\nIRL\n14.68850\n6.6\n\n\nLoran de Munck\nNLD\n14.67750\n6.5\n\n\nZhang Boheng\nCHN\n14.51633\n6.0"
  },
  {
    "objectID": "ParisOlympics2024/pommelhorse.html#selected-routines",
    "href": "ParisOlympics2024/pommelhorse.html#selected-routines",
    "title": "Olympics Pommel Medal Predictions",
    "section": "Selected Routines",
    "text": "Selected Routines\n\nNariman Kurbanov\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n\nresults_df %&gt;% \n  filter(NAME == \"Nariman Kurbanov\") %&gt;% \n  select(MEET, ROUND, PH, PH_D)\n\n\n\n\n\nMEET\nROUND\nPH\nPH_D\n\n\n\n\nasian_games\nAll-Around Results\n15.666\nNA\n\n\nasian_games\nPommels Final Results\n15.600\n6.7\n\n\nbaku_cup\nPommels Final Results\n15.133\n6.4\n\n\nbaku_cup\nPommels Qualification Results\n15.200\n6.4\n\n\ncairo_cup\nPommels Final Results\n14.033\n6.6\n\n\ncairo_cup\nPommels Qualification Results\n15.166\n6.4\n\n\ncottbus_cup\nPommels Final Results\n15.433\n6.7\n\n\ncottbus_cup\nPommels Qualification Results\n15.600\n6.7\n\n\ndoha_cup\nPommels Final Results\n15.133\n6.4\n\n\ndoha_cup\nPommels Qualification Results\n15.033\n6.4\n\n\nolympics\nPommels Final Results\n15.433\n6.7\n\n\ntroyes_friendly\nAll-Around Results\n15.350\nNA\n\n\nvarna_cup\nPommels Final Results\n15.433\n6.9\n\n\nvarna_cup\nPommels Qualification Results\n15.650\n6.7\n\n\n\n\n\n\n\n\nStephen Nedoroscik\n\n\nresults_df %&gt;% \n  filter(NAME == \"Stephen Nedoroscik\") %&gt;% \n  select(MEET, ROUND, PH, PH_D)\n\n\n\n\n\nMEET\nROUND\nPH\nPH_D\n\n\n\n\nusa_nc1\nNA\n15.400\nNA\n\n\nusa_nc2\nNA\n14.600\nNA\n\n\nusa_ot1\nNA\n14.450\nNA\n\n\nusa_ot2\nNA\n14.850\nNA\n\n\nbaku_cup\nPommels Final Results\n15.400\n6.5\n\n\nbaku_cup\nPommels Qualification Results\n15.333\n6.3\n\n\nolympics\nPommels Final Results\n15.300\n6.4\n\n\n\n\n\n\n======= ### Stephen Nederoscik\n\n\n\nLee Chih Kai\n\n\n\n\n\n\n\n\nd35f0d043a5a73837da3504c7c38c1acdb5a9236\n\n\n\n\n\n\n\n\n\nMax Whitlock\n\n&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n\nresults_df %&gt;% \n  filter(NAME == \"Max Whitlock\") %&gt;% \n  select(MEET, ROUND, PH, PH_D) %&gt;% \n  filter(!is.na(PH))\n\n\n\n\n\nMEET\nROUND\nPH\nPH_D\n\n\n\n\nbritish_champs\nSenior All-Around Results\n15.50\nNA\n\n\nbritish_champs\nSenior Pommels Final Results\n15.25\n6.8\n\n\nenglish_champs\nSenior All-Around Results\n15.10\nNA\n\n\nolympics\nPommels Final Results\n15.20\n6.9\n\n\ntroyes_friendly\nAll-Around Results\n10.15\nNA\n\n\n\n\n\n\n\n\nAhmad Abu Al Soud\n\n\nresults_df %&gt;% \n  filter(NAME == \"Ahmad Abu Al Soud\") %&gt;% \n  select(MEET, ROUND, PH, PH_D) %&gt;% \n  filter(!is.na(PH))\n\n\n\n\n\nMEET\nROUND\nPH\nPH_D\n\n\n\n\nasian_games\nAll-Around Results\n15.066\nNA\n\n\nasian_games\nPommels Final Results\n14.633\n6.3\n\n\nbaku_cup\nPommels Final Results\n15.000\n6.6\n\n\nbaku_cup\nPommels Qualification Results\n14.733\n6.0\n\n\ncairo_cup\nPommels Final Results\n15.066\n6.4\n\n\ncairo_cup\nPommels Qualification Results\n14.800\n6.0\n\n\ncottbus_cup\nPommels Final Results\n15.300\n6.4\n\n\ncottbus_cup\nPommels Qualification Results\n14.800\n6.0\n\n\ndoha_cup\nPommels Final Results\n15.500\n6.6\n\n\ndoha_cup\nPommels Qualification Results\n14.800\n6.0\n\n\nkoper_cup\nPommels Final Results\n14.100\n6.6\n\n\nkoper_cup\nPommels Qualification Results\n15.200\n6.2\n\n\n\n\n\n\n\n\nRhys McClenaghan\n\n\nresults_df %&gt;% \n  filter(NAME == \"Rhys McClenaghan\") %&gt;% \n  select(MEET, ROUND, PH, PH_D) \n\n\n\n\n\nMEET\nROUND\nPH\nPH_D\n\n\n\n\nbaku_cup\nPommels Qualification Results\n11.966\n5.5\n\n\ndoha_cup\nPommels Final Results\n15.233\n6.5\n\n\ndoha_cup\nPommels Qualification Results\n14.966\n6.3\n\n\neuro_champs\nAll-Around Final Results\n15.133\nNA\n\n\neuro_champs\nPommels Final Results\n15.300\n6.5\n\n\nolympics\nPommels Final Results\n15.533\n6.6\n\n\n\n\n\n\n======= ### Ahmad Abu Al Soud\n\n\n\n\n\n\n\n\nd35f0d043a5a73837da3504c7c38c1acdb5a9236"
  },
  {
    "objectID": "ParisOlympics2024/olympics2024.html",
    "href": "ParisOlympics2024/olympics2024.html",
    "title": "2024 Paris Olympic Games Predictions",
    "section": "",
    "text": "Who are the teams going to the olympics?\n\n# Selected Olympic teams:\nolympian_list &lt;- read_csv(\"./olympic_teams.csv\")\n\nRows: 96 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): TEAM, NAME\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nolympians &lt;- olympian_list %&gt;% \n  select(NAME) %&gt;% \n  pull()\nolympic_teams &lt;- olympian_list %&gt;% \n  filter(TEAM %in% c(\"CHN\", \"JPN\", \"GBR\", \"USA\", \"CAN\", \"DEU\", \"ITA\", \"CHE\", \"ESP\", \"TUR\", \"NLD\", \"UKR\"))\nolympic_teams %&gt;% pivot_wider(names_from = TEAM, values_from = NAME)\n\nWarning: Values from `NAME` are not uniquely identified; output will contain list-cols.\n• Use `values_fn = list` to suppress this warning.\n• Use `values_fn = {summary_fun}` to summarise duplicates.\n• Use the following dplyr code to identify duplicates.\n  {data} |&gt;\n  dplyr::summarise(n = dplyr::n(), .by = c(TEAM)) |&gt;\n  dplyr::filter(n &gt; 1L)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCHN\nJPN\nGBR\nUSA\nCAN\nDEU\nITA\nCHE\nESP\nTUR\nNLD\nUKR\n\n\n\n\nLiu Yang , Sun Wei , Xiao Ruoteng, Zhang Boheng, Zou Jingyuan\nHashimoto Daiki, Kaya Kazuma , Oka Shinnosuke , Sugino Takaaki , Tanigawa Wataru\nJoe Fraser , Harry Hepworth , Jake Jarman , Luke Whitehouse, Max Whitlock\nAsher Hong , Paul Juda , Brody Malone , Stephen Nedoroscik, Fred Richard\nZachary Clay , René Cournoyer , Félix Dolci , William Émard , Samuel Zakutney\nPascal Brendel, Lukas Dauser , Nils Dunkel , Timo Eder , Andreas Toba\nYumin Abbadini , Nicola Bartolini, Lorenzo Casali , Mario Macchiati , Carlo Macchini\nLuca Giubellini , Matteo Giubellini , Florian Langenegger, Noe Seifert , Taha Serhani\nNéstor Abad , Thierno Diallo , Nicolau Mir , Joel Plata , Rayderley Zapata\nFerhat Arican, Adem Asil , Ibrahim Colak, Emre Dodanli , Ahmet Önder\nLoran de Munck , Martijn de Veer , Jermain Grünberg, Frank Rijken , Casimir Schmidt\nNazar Chepurnyi , Illia Kovtun , Igor Radivilov , Radomyr Stelmakh, Oleg Verniaiev\n\n\n\n\n\n\n\n\nSummarizing Individual Athletes’ Stats\n\nindv.averages_df &lt;- results_df %&gt;% \n  group_by(NAME, TEAM) %&gt;% \n  summarise(\n    across(FX:AA, mean, na.rm=TRUE) ,\n    across(FX_D:HB_D, max, na.rm=TRUE)\n    )%&gt;% \n  mutate(across(FX_D:HB_D, ~na_if(., -Inf))) %&gt;% \n  arrange(desc(AA)) \n\n`summarise()` has grouped output by 'NAME'. You can override using the\n`.groups` argument.\n\nindv.averages_df &lt;- indv.averages_df %&gt;% \n  filter(NAME %in% olympians)\n\nindv.averages_df %&gt;% \n  head()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNAME\nTEAM\nFX\nPH\nSR\nVT\nPB\nHB\nAA\nFX_D\nPH_D\nSR_D\nVT_D\nPB_D\nHB_D\n\n\n\n\nHashimoto Daiki\nJPN\n14.32640\n14.35775\n13.9165\n14.94150\n14.70800\n14.60660\n86.72350\n6.0\nNA\nNA\nNA\nNA\n6.7\n\n\nXiao Ruoteng\nCHN\n13.56225\n14.43300\n13.8000\n14.74150\n14.66067\n14.27620\n86.38200\n5.8\nNA\nNA\nNA\n6.3\n5.9\n\n\nOka Shinnosuke\nJPN\n14.43980\n13.76640\n14.2862\n14.21980\n14.86650\n14.43867\n85.91180\nNA\nNA\nNA\nNA\n6.5\n5.9\n\n\nBrody Malone\nUSA\n13.92500\n13.87500\n14.4500\n14.42500\n14.73750\n14.23750\n85.65000\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nKaya Kazuma\nJPN\n13.65960\n14.51320\n14.1198\n14.39975\n14.77960\n13.84640\n85.35650\n5.7\n6.3\n5.8\nNA\n6.3\n5.7\n\n\nSugino Takaaki\nJPN\n14.21650\n14.74660\n12.9330\n14.66650\n13.62475\n14.18620\n84.96525\nNA\n6.7\nNA\nNA\nNA\n5.8\n\n\n\n\n\n\n\n\n\n\nListing 1: plot of event distributions\n\n\nlibrary(ggthemes)\neventsdist &lt;- results_df %&gt;% select(MEET:HB) %&gt;%\n  # filter(NAME %in% olympic_teams$NAME) %&gt;% \n  pivot_longer(\n    cols = c(FX, PH, SR, VT, PB, HB),\n    names_to = \"Event\",\n    values_to = \"Score\",\n  ) %&gt;%\n  ggplot(aes(x=Score)) +\n  geom_density() +\n  xlim(11, 16) +\n  facet_wrap(~Event, ncol = 2) +\n  theme_pander()\neventsdist\n\n\n\n\nWarning: Removed 14287 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\nFigure 1: national distributions of scores on each event\n\n\n\n\n\n\nlibrary(ggthemes)\n\nevent_averages &lt;- results_df %&gt;% select(!AA) %&gt;%\n  filter(NAME %in% olympians) %&gt;% \n  pivot_longer(\n    cols = c(FX, PH, SR, VT, PB, HB),\n    names_to = \"Event\",\n    values_to = \"Score\",\n  ) %&gt;% \n  group_by(Event) %&gt;% \n  summarise(\n    mean_score    = mean(Score, na.rm = T),\n    sd_score      = sd(Score, na.rm = T),\n    top_dec       = quantile(Score, probs = 0.9, na.rm = TRUE)\n            )\n\neventsdist + \n  geom_vline(data = event_averages, aes(xintercept = mean_score)) +\n  geom_vline(data = event_averages, aes(xintercept = top_dec), linetype = \"dashed\") \n\nWarning: Removed 14287 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\n\n\n# function to pick top three scores on each event from a team\nteam_top_scores &lt;- function(names, scores = indv.averages_df, perevent = 3) {\n  scores %&gt;% \n    filter(NAME %in% names) %&gt;%\n    select(NAME, FX, PH, SR, VT, PB, HB) %&gt;% \n    pivot_longer(\n      -NAME,\n      names_to = \"Event\",\n      values_to = \"Score\",\n    ) %&gt;% \n    # take top 3 on each event dropping extra tied scores\n    group_by(Event) %&gt;% \n    slice_max(n = perevent, order_by = Score, with_ties = FALSE) %&gt;% \n    mutate(\n      teamscore = sum(Score),\n      # names     = c(unique(NAME))\n      )  %&gt;%\n    group_by(Event) %&gt;% \n    summarise(\n      Score   = first(teamscore),\n      OnEvent = list((NAME))\n      ) %&gt;% ungroup()\n}\n\n# function to take output of select_top_scores and calculate total\nteam_total &lt;- function(top_scores) {\n  top_scores %&gt;% \n    summarise(x=sum(Score)) %&gt;% \n    pull()\n}\n\n\nresults_df %&gt;% \n  filter(NAME %in% olympic_teams$NAME) %&gt;% \n  group_by(TEAM) %&gt;% \n  summarise(score = team_total(team_top_scores(unlist(list(unique(NAME)))))) %&gt;% \n  arrange(desc(score))\n\n\n\n\n\nTEAM\nscore\n\n\n\n\nJPN\n261.5908\n\n\nCHN\n258.9624\n\n\nUSA\n256.9945\n\n\nUKR\n252.3005\n\n\nGBR\n250.9667\n\n\nCHE\n250.0290\n\n\nITA\n248.9986\n\n\nCAN\n247.0150\n\n\nDEU\n247.0108\n\n\nTUR\n246.6005\n\n\nNLD\n246.0915\n\n\nESP\n243.6041\n\n\n\n\n\n\n\nresults_df %&gt;% \n  filter(TEAM == \"CHN\") %&gt;% \n  pull(NAME) %&gt;% \n  unique() %&gt;% \n  team_top_scores()\n\n\n\n\n\nEvent\nScore\nOnEvent\n\n\n\n\nFX\n39.69525\nXiao Ruoteng, Sun Wei , Zhang Boheng\n\n\nHB\n42.34220\nZhang Boheng, Xiao Ruoteng, Sun Wei\n\n\nPB\n45.61867\nZou Jingyuan, Zhang Boheng, Xiao Ruoteng\n\n\nPH\n43.84933\nZou Jingyuan, Zhang Boheng, Xiao Ruoteng\n\n\nSR\n44.43250\nLiu Yang , Zou Jingyuan, Sun Wei\n\n\nVT\n43.02450\nXiao Ruoteng, Zhang Boheng, Sun Wei\n\n\n\n\n\n\n\nindv.averages_df %&gt;% \n  filter(TEAM == \"USA\") %&gt;% \n  pull(NAME) %&gt;% \n  unique() %&gt;% \n  team_top_scores()\n\n\n\n\n\nEvent\nScore\nOnEvent\n\n\n\n\nFX\n42.26774\nFred Richard, Paul Juda , Brody Malone\n\n\nHB\n42.05683\nBrody Malone, Fred Richard, Paul Juda\n\n\nPB\n43.98167\nBrody Malone, Asher Hong , Fred Richard\n\n\nPH\n42.93577\nStephen Nedoroscik, Paul Juda , Brody Malone\n\n\nSR\n42.59717\nBrody Malone, Asher Hong , Fred Richard\n\n\nVT\n43.15533\nAsher Hong , Brody Malone, Fred Richard\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "Japan2024/TeamJapan.html",
    "href": "Japan2024/TeamJapan.html",
    "title": "2024 Japanese Men’s Gymnastics Olympic Team",
    "section": "",
    "text": "Results from: https://thegymter.net/2024/04/16/2024-all-japan-championships-mens-results/\n\nlibrary(tidyverse)\nallJA_df &lt;- read_csv(\"./AllJapan_results.csv\")\nnhkJA_df &lt;- read_csv(\"./NHK_results.csv\")\nresults_df &lt;- bind_rows(list(allJA_df, nhkJA_df)) %&gt;% \n  select(!Total)\n\n\n\n\n\nListing 1: plot of event distributions\n\n\nlibrary(ggthemes)\neventsdist &lt;- results_df %&gt;% select(!AA) %&gt;%\n  pivot_longer(\n    cols = c(FX, PH, SR, VT, PB, HB),\n    names_to = \"Event\",\n    values_to = \"Score\",\n  ) %&gt;% filter(Score &gt; 1) %&gt;%\n  ggplot(aes(x=Score)) +\n  geom_density() +\n  xlim(11, 16) +\n  facet_wrap(~Event, ncol = 2) +\n  theme_pander()\neventsdist\n\n\n\n\nWarning: Removed 8 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\nFigure 1: national distributions of scores on each event\n\n\n\n\n\n\n\n\n\nListing 2: plot of all-around distribution\n\n\naadist &lt;- \n  results_df %&gt;% select(AA) %&gt;%\n  ggplot(aes(x=AA)) +\n  geom_density() +\n  xlim(70, 90) +\n  theme_pander()\naadist\n\n\n\n\nWarning: Removed 108 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\nFigure 2: national distributions of all-around scores\n\n\n\n\n\n\nteam_japan &lt;- c(\"Hashimoto Daiki\", \"Oka Shinnosuke\", \"Kaya Kazuma\", \"Sugino Takaaki\", \"Tanigawa Wataru\")\n# average individual gymnasts' scores across four days\naverages_df &lt;- results_df %&gt;% \n  filter(NAME %in% team_japan) %&gt;%  # on olympic team\n  group_by(NAME) %&gt;% \n  summarise_at(vars(FX:AA), mean, na.rm=TRUE) %&gt;% \n  arrange(desc(AA))\naverages_df\n\n\n\nTable 1: Individuals’ average scores across nhk and all-japan championships\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNAME\nFX\nPH\nSR\nVT\nPB\nHB\nAA\n\n\n\n\nHashimoto Daiki\n14.65000\n15.04950\n14.13300\n15.00000\n14.79950\n14.45000\n88.08200\n\n\nOka Shinnosuke\n14.40825\n13.58300\n14.39125\n14.19975\n14.69975\n14.39975\n85.68175\n\n\nKaya Kazuma\n13.59125\n14.56650\n14.14975\n14.39975\n14.79125\n13.85800\n85.35650\n\n\nSugino Takaaki\n14.21650\n14.70000\n12.93300\n14.66650\n13.62475\n14.82450\n84.96525\n\n\nTanigawa Wataru\n13.79975\n13.21625\n14.45800\n14.93300\n14.93300\n12.55800\n83.89800\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nListing 3: team_top_scores() of actual team picks\n\n\nactual_team &lt;- team_top_scores(team_japan)\nactual_team_tot &lt;- actual_team %&gt;% \n  team_total()\nactual_team %&gt;% \n  kableExtra::kable()\n\n\n\n\n\n\nTable 2: Team Japan expected event scores\n\n\n\n\n\n\nEvent\nScore\nOnEvent\n\n\n\n\nFX\n43.27475\nHashimoto Daiki, Oka Shinnosuke , Sugino Takaaki\n\n\nHB\n43.67425\nSugino Takaaki , Hashimoto Daiki, Oka Shinnosuke\n\n\nPB\n44.52375\nTanigawa Wataru, Hashimoto Daiki, Kaya Kazuma\n\n\nPH\n44.31600\nHashimoto Daiki, Sugino Takaaki , Kaya Kazuma\n\n\nSR\n42.99900\nTanigawa Wataru, Oka Shinnosuke , Kaya Kazuma\n\n\nVT\n44.59950\nHashimoto Daiki, Tanigawa Wataru, Sugino Takaaki\n\n\n\n\n\n\n\n\nExpected Team Score : 263.38725"
  },
  {
    "objectID": "Japan2024/TeamJapan.html#event-scores-breakdown",
    "href": "Japan2024/TeamJapan.html#event-scores-breakdown",
    "title": "2024 Japanese Men’s Gymnastics Olympic Team",
    "section": "",
    "text": "Listing 3: team_top_scores() of actual team picks\n\n\nactual_team &lt;- team_top_scores(team_japan)\nactual_team_tot &lt;- actual_team %&gt;% \n  team_total()\nactual_team %&gt;% \n  kableExtra::kable()\n\n\n\n\n\n\nTable 2: Team Japan expected event scores\n\n\n\n\n\n\nEvent\nScore\nOnEvent\n\n\n\n\nFX\n43.27475\nHashimoto Daiki, Oka Shinnosuke , Sugino Takaaki\n\n\nHB\n43.67425\nSugino Takaaki , Hashimoto Daiki, Oka Shinnosuke\n\n\nPB\n44.52375\nTanigawa Wataru, Hashimoto Daiki, Kaya Kazuma\n\n\nPH\n44.31600\nHashimoto Daiki, Sugino Takaaki , Kaya Kazuma\n\n\nSR\n42.99900\nTanigawa Wataru, Oka Shinnosuke , Kaya Kazuma\n\n\nVT\n44.59950\nHashimoto Daiki, Tanigawa Wataru, Sugino Takaaki\n\n\n\n\n\n\n\n\nExpected Team Score : 263.38725"
  }
]